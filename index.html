<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="centralizar">
    <div>
        <img id="imagem" src="https://img3.stockfresh.com/files/n/nyul/m/38/623496_stock-photo-happy-old-man-sitting-on-sofa-with-laptop.jpg" alt="">
    </div>
    <div class="contador">    
        <h1>Estás animado?</h1>
        <p>Clique no botão para aumentar a animação:</p>
        <button onclick="incrementarContador()">Estou animado!</button>
        <p>O índice de animação está em:</p> 
        <span id="contador">0</span>
        <h1> Estamos a 0 dias desanimados</h1>
    </div>
</div>
</body>
<!-- <script>
    // Função para incrementar o contador e armazenar o valor
    function incrementarContador() {
        // Verifica se há um valor armazenado no localStorage
        if (localStorage.getItem('contador')) {
            // Se houver, incrementa o valor em 1
            var contadorAtual = parseInt(localStorage.getItem('contador'));
            contadorAtual++;
            localStorage.setItem('contador', contadorAtual);
        } else {
            // Se não houver, define o valor inicial como 1
            localStorage.setItem('contador', 1);
        }

        // Atualiza o valor exibido na página
        document.getElementById('contador').textContent = localStorage.getItem('contador');
    }

    // Verifica se há um valor armazenado e exibe na página
    if (localStorage.getItem('contador')) {
        document.getElementById('contador').textContent = localStorage.getItem('contador');
    }
</script> -->


<script>
    // Função para incrementar o contador
    function incrementarContador() {
      // Verifica se a variável de ambiente está definida
      if (process.env.COUNTER_VALUE) {
        // Converte o valor da variável de ambiente para número e incrementa
        var contadorAtual = parseInt(process.env.COUNTER_VALUE);
        contadorAtual++;
        // Atualiza a variável de ambiente com o novo valor
        fetch('/api/atualizar-contador', {
          method: 'POST',
          body: JSON.stringify({ contador: contadorAtual })
        })
        .then(response => {
          if (response.ok) {
            // Se a atualização for bem-sucedida, atualiza o contador na página
            document.getElementById('contador').textContent = contadorAtual;
          } else {
            console.error('Erro ao atualizar o contador');
          }
        })
        .catch(error => {
          console.error('Erro ao atualizar o contador:', error);
        });
      } else {
        console.error('Variável de ambiente do contador não definida');
      }
    }
    </script>
</html>